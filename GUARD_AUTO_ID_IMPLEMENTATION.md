# р╕гр╕░р╕Ър╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤ (Auto-Generated Guard ID)

## р╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З

р╕гр╕░р╕Ър╕Ър╣Др╕Фр╣Йр╕Цр╕╣р╕Бр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╣Гр╕лр╣Йр╕кр╕гр╣Йр╕▓р╕Зр╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ Guards р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Гр╕Щр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ `PG-XXXX` (р╣Ар╕Кр╣Ир╕Щ PG-0001, PG-0002) р╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Гр╕лр╣Йр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Бр╕гр╕нр╕Бр╣Ар╕нр╕З

---

## ЁЯОп р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╕лр╕ер╕▒р╕Б

### 1. **р╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕кр╕гр╣Йр╕▓р╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤**
   - р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ: `PG-0001`, `PG-0002`, `PG-0003`, ...
   - р╣Ар╕гр╕┤р╣Ир╕бр╕Щр╕▒р╕Ър╕Ир╕▓р╕Б PG-0001
   - р╣Ар╕Юр╕┤р╣Ир╕бр╣Бр╕Ър╕Ър╕Хр╣Ир╕нр╣Ар╕Щр╕╖р╣Ир╕нр╕Зр╕Чр╕╕р╕Бр╕Др╕гр╕▒р╣Йр╕Зр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣И
   - р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Бр╣Йр╣Др╕Вр╕гр╕лр╕▒р╕кр╣Др╕Фр╣Йр╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕кр╕гр╣Йр╕▓р╕З

### 2. **р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣И (Manual Entry)**
   - р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕гр╕нр╕Бр╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ
   - р╕Бр╕гр╕нр╕Бр╣Ар╕Йр╕Юр╕▓р╕░: р╕Кр╕╖р╣Ир╕н, р╕Щр╕▓р╕бр╕кр╕Бр╕╕р╕е, р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕г, р╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣И, р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Шр╕Щр╕▓р╕Др╕▓р╕г
   - р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕кр╕гр╣Йр╕▓р╕Зр╕гр╕лр╕▒р╕кр╣Гр╕лр╣Йр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕лр╕ер╕▒р╕Зр╕Бр╕Ф Save

### 3. **р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ (Edit Mode)**
   - р╣Бр╕кр╕Фр╕Зр╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╣Бр╕Ър╕Ъ read-only
   - р╕бр╕╡р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕Ир╣Йр╕З: "* р╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Цр╕╣р╕Бр╕кр╕гр╣Йр╕▓р╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤ р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Бр╣Йр╣Др╕Вр╣Др╕Фр╣Й"
   - р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Бр╣Йр╣Др╕Вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕╖р╣Ир╕Щр╣Ж р╣Др╕Фр╣Йр╕Ыр╕Бр╕Хр╕┤

### 4. **р╕Бр╕▓р╕гр╕Щр╕│р╣Ар╕Вр╣Йр╕▓р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б Excel (Import)**
   - р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕бр╕╡р╕Др╕нр╕ер╕▒р╕бр╕Щр╣М "р╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ" р╣Гр╕Щр╣Др╕Яр╕ер╣М Excel
   - р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕кр╕гр╣Йр╕▓р╕Зр╕гр╕лр╕▒р╕кр╣Гр╕лр╣Йр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Чр╕╕р╕Бр╣Бр╕Цр╕з
   - Template р╣Гр╕лр╕бр╣Ир╕ер╕Ър╕Др╕нр╕ер╕▒р╕бр╕Щр╣Мр╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕нр╕нр╕Бр╣Бр╕ер╣Йр╕з

---

## ЁЯУЭ р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕бр╕╡р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З

### Backend (Python/FastAPI)

#### 1. **app/schemas/master_data.py**
```python
class GuardCreate(BaseModel):
    # р╕ер╕Ъ guardId р╕нр╕нр╕Бр╕Ир╕▓р╕Б required fields
    firstName: str = Field(..., min_length=1)
    lastName: str = Field(..., min_length=1)
    phone: Optional[str] = None
    address: Optional[str] = None
    bankAccountNo: Optional[str] = None
    bankCode: Optional[str] = None
    isActive: bool = True
```

#### 2. **app/api/master_data.py**

**POST /guards** - р╕кр╕гр╣Йр╕▓р╕Зр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣И:
```python
@router.post("/guards", response_model=GuardResponse)
async def create_guard(...):
    # Query р╕лр╕▓ ID р╕ер╣Ир╕▓р╕кр╕╕р╕Ф
    result = await db.execute(
        select(Guard.guardId)
        .where(Guard.guardId.like('PG-%'))
        .order_by(Guard.guardId.desc())
        .limit(1)
    )
    last_guard_id = result.scalar_one_or_none()
    
    # р╕Др╕│р╕Щр╕зр╕Ур╣Ар╕ер╕Вр╕Цр╕▒р╕Фр╣Др╕Ы
    if last_guard_id:
        last_num = int(last_guard_id.split('-')[1])
        next_num = last_num + 1
    else:
        next_num = 1
    
    # р╕кр╕гр╣Йр╕▓р╕З ID р╣Гр╕лр╕бр╣И р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ PG-0001
    new_guard_id = f"PG-{next_num:04d}"
    
    # р╕кр╕гр╣Йр╕▓р╕З Guard р╕Юр╕гр╣Йр╕нр╕б audit log
    new_guard = Guard(guardId=new_guard_id, ...)
```

**PUT /guards/{guard_id}** - р╣Бр╕Бр╣Йр╣Др╕Вр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ:
- р╣Ар╕Юр╕┤р╣Ир╕б audit logging р╕Юр╕гр╣Йр╕нр╕б old_data, new_data, changes array
- р╣Др╕бр╣Ир╕нр╕Щр╕╕р╕Нр╕▓р╕Хр╣Гр╕лр╣Йр╣Бр╕Бр╣Йр╣Др╕В guardId

**DELETE /guards/{guard_id}** - р╕ер╕Ър╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ:
- р╣Ар╕Юр╕┤р╣Ир╕б audit logging р╕Бр╣Ир╕нр╕Щр╕ер╕Ъ

**POST /guards/import** - р╕Щр╕│р╣Ар╕Вр╣Йр╕▓ Excel:
```python
# р╕ер╕Ър╕Др╕нр╕ер╕▒р╕бр╕Щр╣М 'р╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ' р╕нр╕нр╕Бр╕Ир╕▓р╕Б expected_columns
expected_columns = [
    'р╕Кр╕╖р╣Ир╕н', 'р╕Щр╕▓р╕бр╕кр╕Бр╕╕р╕е', 'р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕г', 'р╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣И',
    'р╣Ар╕ер╕Вр╕Ър╕▒р╕Нр╕Кр╕╡', 'р╕гр╕лр╕▒р╕кр╕Шр╕Щр╕▓р╕Др╕▓р╕г', 'р╕кр╕Цр╕▓р╕Щр╕░'
]

# Auto-generate IDs р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Чр╕╕р╕Бр╣Бр╕Цр╕з
for index, row in df.iterrows():
    new_guard_id = f"PG-{next_num:04d}"
    next_num += 1
    new_guard = Guard(guardId=new_guard_id, ...)
```

#### 3. **create_all_templates.py**
- р╕ер╕Ър╕Др╕нр╕ер╕▒р╕бр╕Щр╣М 'р╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ' р╕нр╕нр╕Бр╕Ир╕▓р╕Б guard_data
- Template р╣Гр╕лр╕бр╣Ир╕бр╕╡ 7 р╕Др╕нр╕ер╕▒р╕бр╕Щр╣М (р╣Ар╕Фр╕┤р╕б 8 р╕Др╕нр╕ер╕▒р╕бр╕Щр╣М)

---

### Frontend (React)

#### 1. **components/modals/GuardFormModal.jsx**
```jsx
{/* р╣Бр╕кр╕Фр╕Зр╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╣Ар╕Йр╕Юр╕▓р╕░р╕Хр╕нр╕Щр╣Бр╕Бр╣Йр╣Др╕В - read-only */}
{guard && (
    <div>
        <label className="block text-sm font-medium text-gray-700">
            р╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ
        </label>
        <div className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-700">
            {formData.guardId}
        </div>
        <p className="text-xs text-gray-500 mt-1">
            * р╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Цр╕╣р╕Бр╕кр╕гр╣Йр╕▓р╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤ р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Бр╣Йр╣Др╕Вр╣Др╕Фр╣Й
        </p>
    </div>
)}
```

#### 2. **components/pages/GuardList.jsx**
```jsx
const handleSaveGuard = async (guardData) => {
    const payload = {
        firstName: guardData.firstName,
        lastName: guardData.lastName,
        phone: guardData.phone,
        address: guardData.address,
        bankAccountNo: guardData.paymentInfo?.accountNumber || "",
        bankCode: banks.find(b => b.name === guardData.paymentInfo?.bankName)?.code || "",
        isActive: guardData.status === 'Active'
    };

    if (guardData.id) {
        // Update - send guardId for reference
        payload.guardId = guardData.guardId;
        await api.put(`/guards/${guardData.id}`, payload);
    } else {
        // Create - р╣Др╕бр╣Ир╕кр╣Ир╕З guardId (backend р╕Ир╕░р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕лр╣Й)
        await api.post('/guards', payload);
    }
};
```

---

## ЁЯФД Audit Log System

р╕Чр╕╕р╕Б CRUD operation р╕Вр╕нр╕З Guards р╕бр╕╡ audit logging:

### CREATE
```json
{
  "action": "CREATE",
  "entityType": "guards",
  "entityId": "123",
  "entityName": "р╕кр╕бр╕Кр╕▓р╕в р╣Гр╕Ир╕Фр╕╡",
  "description": "р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ: PG-0001 - р╕кр╕бр╕Кр╕▓р╕в р╣Гр╕Ир╕Фр╕╡",
  "newData": {
    "guardId": "PG-0001",
    "firstName": "р╕кр╕бр╕Кр╕▓р╕в",
    "lastName": "р╣Гр╕Ир╕Фр╕╡",
    "phone": "081-234-5678",
    "isActive": true
  }
}
```

### UPDATE
```json
{
  "action": "UPDATE",
  "oldData": { "phone": "081-111-1111", ... },
  "newData": { "phone": "082-222-2222", ... },
  "changes": ["phone"]
}
```

### DELETE
```json
{
  "action": "DELETE",
  "oldData": { "guardId": "PG-0001", ... }
}
```

---

## ЁЯУК Excel Template р╣Гр╕лр╕бр╣И

### р╕Бр╣Ир╕нр╕Щр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З (8 р╕Др╕нр╕ер╕▒р╕бр╕Щр╣М):
```
р╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ | р╕Кр╕╖р╣Ир╕н | р╕Щр╕▓р╕бр╕кр╕Бр╕╕р╕е | р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕г | р╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣И | р╣Ар╕ер╕Вр╕Ър╕▒р╕Нр╕Кр╕╡ | р╕гр╕лр╕▒р╕кр╕Шр╕Щр╕▓р╕Др╕▓р╕г | р╕кр╕Цр╕▓р╕Щр╕░
```

### р╕лр╕ер╕▒р╕Зр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З (7 р╕Др╕нр╕ер╕▒р╕бр╕Щр╣М):
```
р╕Кр╕╖р╣Ир╕н | р╕Щр╕▓р╕бр╕кр╕Бр╕╕р╕е | р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕г | р╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣И | р╣Ар╕ер╕Вр╕Ър╕▒р╕Нр╕Кр╕╡ | р╕гр╕лр╕▒р╕кр╕Шр╕Щр╕▓р╕Др╕▓р╕г | р╕кр╕Цр╕▓р╕Щр╕░
```

### р╕зр╕┤р╕Шр╕╡р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Ф Template р╣Гр╕лр╕бр╣И:
1. р╣Ар╕Вр╣Йр╕▓р╕лр╕Щр╣Йр╕▓ Guards
2. р╕Др╕ер╕┤р╕Б "Import Excel"
3. р╕Др╕ер╕┤р╕Б "р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Ф Template"
4. р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Др╕Фр╣Й: `guard_template.xlsx` (р╣Др╕бр╣Ир╕бр╕╡р╕Др╕нр╕ер╕▒р╕бр╕Щр╣Мр╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ)

---

## тЬЕ р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ

### Test Case 1: р╕кр╕гр╣Йр╕▓р╕Зр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣И
1. р╣Ар╕Вр╣Йр╕▓р╕лр╕Щр╣Йр╕▓ Guards
2. р╕Др╕ер╕┤р╕Б "+ р╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ р╕гр╕Ыр╕а."
3. р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е (р╣Др╕бр╣Ир╕бр╕╡р╕Кр╣Ир╕нр╕Зр╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ)
4. р╕Бр╕Ф Save
5. тЬЕ р╕гр╕░р╕Ър╕Ър╕кр╕гр╣Йр╕▓р╕З PG-0001 р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

### Test Case 2: р╕кр╕гр╣Йр╕▓р╕Зр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Хр╣Ир╕нр╣Ар╕Щр╕╖р╣Ир╕нр╕З
1. р╕кр╕гр╣Йр╕▓р╕Зр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ 3 р╕Др╕Щ
2. тЬЕ р╣Др╕Фр╣Йр╕гр╕лр╕▒р╕к: PG-0001, PG-0002, PG-0003

### Test Case 3: р╣Бр╕Бр╣Йр╣Др╕Вр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ
1. р╕Др╕ер╕┤р╕Б Edit р╕Чр╕╡р╣Ир╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Др╕Щр╣Гр╕Фр╕Бр╣Зр╣Др╕Фр╣Й
2. тЬЕ р╣Ар╕лр╣Зр╕Щр╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╣Бр╕Ър╕Ъ read-only (р╕кр╕╡р╣Ар╕Чр╕▓)
3. тЬЕ р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Бр╣Йр╣Др╕Вр╕гр╕лр╕▒р╕кр╣Др╕Фр╣Й
4. р╣Бр╕Бр╣Йр╣Др╕Вр╕Кр╕╖р╣Ир╕нр╕лр╕гр╕╖р╕нр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕╖р╣Ир╕Щ
5. р╕Бр╕Ф Save
6. тЬЕ р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕кр╕│р╣Ар╕гр╣Зр╕И, р╕гр╕лр╕▒р╕кр╣Др╕бр╣Ир╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ

### Test Case 4: Import Excel
1. р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Ф Template р╣Гр╕лр╕бр╣И
2. р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е 5 р╣Бр╕Цр╕з (р╣Др╕бр╣Ир╕бр╕╡р╕Др╕нр╕ер╕▒р╕бр╕Щр╣Мр╕гр╕лр╕▒р╕к)
3. Upload р╣Др╕Яр╕ер╣М
4. тЬЕ р╕гр╕░р╕Ър╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕гр╕лр╕▒р╕кр╣Гр╕лр╣Йр╕Чр╕▒р╣Йр╕З 5 р╕Др╕Щ (PG-XXXX р╕Хр╣Ир╕нр╣Ар╕Щр╕╖р╣Ир╕нр╕З)

### Test Case 5: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Audit Log
1. р╣Ар╕Вр╣Йр╕▓р╕лр╕Щр╣Йр╕▓ "р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В" (Admin only)
2. тЬЕ р╣Ар╕лр╣Зр╕Щр╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤ CREATE, UPDATE, DELETE
3. р╕Др╕ер╕┤р╕Б History р╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓ Guards
4. тЬЕ р╣Ар╕лр╣Зр╕Щ timeline р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕Вр╕нр╕Зр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Др╕Щр╕Щр╕▒р╣Йр╕Щ

---

## ЁЯЪА р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### р╕кр╕гр╣Йр╕▓р╕Зр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣И:
```
р╕лр╕Щр╣Йр╕▓ Guards тЖТ + р╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ р╕гр╕Ыр╕а. тЖТ р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е тЖТ Save
тЖТ р╕гр╕░р╕Ър╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕гр╕лр╕▒р╕к PG-0001 р╣Гр╕лр╣Йр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
```

### р╣Бр╕Бр╣Йр╣Др╕Вр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ:
```
р╕лр╕Щр╣Йр╕▓ Guards тЖТ р╕Др╕ер╕┤р╕Б Edit тЖТ р╣Бр╕Бр╣Йр╣Др╕Вр╕Вр╣Йр╕нр╕бр╕╣р╕е (р╕вр╕Бр╣Ар╕зр╣Йр╕Щр╕гр╕лр╕▒р╕к) тЖТ Save
тЖТ р╕гр╕░р╕Ър╕Ър╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕ер╕З Audit Log
```

### р╕Щр╕│р╣Ар╕Вр╣Йр╕▓ Excel:
```
р╕лр╕Щр╣Йр╕▓ Guards тЖТ Import Excel тЖТ р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Ф Template тЖТ р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е тЖТ Upload
тЖТ р╕гр╕░р╕Ър╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕гр╕лр╕▒р╕кр╣Гр╕лр╣Йр╕Чр╕╕р╕Бр╣Бр╕Цр╕зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
```

### р╕Фр╕╣р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В:
```
р╕лр╕Щр╣Йр╕▓ Guards тЖТ р╕Др╕ер╕┤р╕Б History (р╣Др╕нр╕Др╕нр╕Щр╕Щр╕▓р╕мр╕┤р╕Бр╕▓) тЖТ р╕Фр╕╣ Timeline
тЖТ р╣Ар╕лр╣Зр╕Щр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Вр╕нр╕Зр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Др╕Щр╕Щр╕▒р╣Йр╕Щ
```

---

## ЁЯУМ р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕р╕кр╕│р╕Др╕▒р╕Н

1. **р╕гр╕лр╕▒р╕кр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Бр╣Йр╣Др╕Вр╣Др╕Фр╣Й** - р╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕▒р╕Бр╕йр╕▓р╕Др╕зр╕▓р╕бр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕Вр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕ер╕░ Audit Trail
2. **р╕гр╕лр╕▒р╕кр╣Ар╕гр╕┤р╣Ир╕бр╕Ир╕▓р╕Б PG-0001** - р╕Цр╣Йр╕▓р╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Бр╣Ир╕▓р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Щр╕▒р╕Ър╕Хр╣Ир╕нр╕Ир╕▓р╕Бр╣Ар╕ер╕Вр╕ер╣Ир╕▓р╕кр╕╕р╕Ф
3. **Template Excel р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З** - р╣Др╕Яр╕ер╣Мр╣Ар╕Бр╣Ир╕▓р╕нр╕▓р╕Ир╣Гр╕Кр╣Йр╣Др╕бр╣Ир╣Др╕Фр╣Й р╣Гр╕лр╣Йр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Гр╕лр╕бр╣И
4. **Audit Log р╕Др╕гр╕Ър╕Чр╕╕р╕Б Action** - CREATE, UPDATE, DELETE р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Цр╕╣р╕Бр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б
5. **Admin Only** - р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М "р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В" р╣Бр╕кр╕Фр╕Зр╣Ар╕Йр╕Юр╕▓р╕░ Admin

---

## ЁЯФо р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Хр╣Ир╕нр╣Др╕Ы (Optional)

р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Вр╕вр╕▓р╕вр╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Щр╕╡р╣Йр╣Др╕Ыр╕вр╕▒р╕З entities р╕нр╕╖р╣Ир╕Щ:

1. **Staff (р╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕ар╕▓р╕вр╣Гр╕Щ)** - р╣Гр╕Кр╣Йр╕гр╕лр╕▒р╕к `ST-XXXX`
2. **Sites (р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ)** - р╣Гр╕Кр╣Йр╕гр╕лр╕▒р╕к `SITE-XXXX`
3. **Products (р╕Ър╕гр╕┤р╕Бр╕▓р╕г)** - р╣Гр╕Кр╣Йр╕гр╕лр╕▒р╕к `PRD-XXXX`

р╣Гр╕Кр╣Йр╕зр╕┤р╕Шр╕╡р╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕Ъ Guards:
- р╕ер╕Ъ field ID р╕нр╕нр╕Бр╕Ир╕▓р╕Б schema
- р╣Ар╕Юр╕┤р╣Ир╕б auto-generation logic р╣Гр╕Щ POST endpoint
- р╕Ыр╕гр╕▒р╕Ъ Template Excel
- р╣Бр╕Бр╣Йр╣Др╕В Frontend modal р╣Гр╕лр╣Йр╣Бр╕кр╕Фр╕З read-only

---

## ЁЯУЮ Support

р╕лр╕▓р╕Бр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓р╕лр╕гр╕╖р╕нр╕Др╕│р╕Цр╕▓р╕б:
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Audit Logs р╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓ "р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В"
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Browser Console (F12) р╕кр╕│р╕лр╕гр╕▒р╕Ъ Frontend errors
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Backend logs р╕Чр╕╡р╣И terminal р╕Чр╕╡р╣Ир╕гр╕▒р╕Щ FastAPI

---

**р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕З:** 2024
**р╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щ:** 1.0
**Status:** тЬЕ Production Ready
